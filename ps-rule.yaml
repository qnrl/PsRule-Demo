configuration:
  #Enable expansion for Bicep source files.
  AZURE_BICEP_FILE_EXPANSION: true

input:
  pathIgnore:
  # ignore all bicep files except the ones that have been created to test modules
  - modules/**/*.bicep
  - '!modules/**/*.tests.bicep'
  # ignore bicepconfig.json
  - 'bicepconfig.json'

rule:
  exclude:
    - "Azure.Storage.UseReplication"

include:
  module:
    - PSRule.Rules.Azure

# requires:
#   PSRule.Rules.Azure: 'v1.27.3'

execution:
  aliasReference: Warn
  duplicateResourceId: Error
  languageMode: FullLanguage
  initialSessionState: BuiltIn
  invariantCulture: Warn
  ruleExcluded: Ignore
  ruleInconclusive: Warn
  ruleSuppressed: Warn
  suppressionGroupExpired: Warn
  unprocessedObject: Ignore

output:
  as: Detail
  banner: Default
  culture: [en-GB]
  encoding: Default
  footer: Default
